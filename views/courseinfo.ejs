<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/course-styles.css" /> <!-- Changed stylesheet -->
</head>
<body>
    <div class="grid grid-cols-12"> <!-- Changed grid columns to 12 -->
        <div class="col-start-4 col-span-6"> <!-- Adjusted column start and span -->
            <%- include ('header.ejs') %> <!-- Changed included header file -->
            <h1 class="text-4xl font-bold my-4">Explore Course Information</h1> <!-- Changed title -->
            <h1 class="text-black text-xl mb-4"><%= currentUser.firstName %> <%= currentUser.lastName %></h1> <!-- Adjusted font size and margin -->
            <div>
                <h2 class="text-2xl font-semibold"><%= course.courseName %></h2> <!-- Adjusted font size and style -->
                <p class="text-gray-700 mb-4"><b>Content:</b> <%= course.courseContent %></p> <!-- Adjusted text color and margin -->
            </div>
            <div class="bg-gray-100 p-4 m-4">
                <h2 class="text-3xl font-semibold m-2 border-b-2 p-3 bg-blue-100"><strong><%= course.courseName %></strong></h2>
                <p class="text-lg mb-2"><strong>Course ID:</strong> <%= course.id %></p>
                <p class="text-lg mb-2"><strong>Created By:</strong> <%= userofCourse.firstName %> <%= userofCourse.lastName %></p>
                <p class="text-lg mb-2"><strong>Email:</strong> <%= userofCourse.email %></p>
                <p class="text-lg mb-2"><strong>Description:</strong> <%= course.courseContent %></p>
                <p class="text-lg mb-2">
                    <b>Chapters:</b>
                    <!-- List of available chapters for this course -->
                    <ol class="text-lg mb-2">
                        <% if (chapters.length === 0) { %>
                            <h3 class="mb-5 text-xl text-gray-600">---No Chapters available</h3>
                        <% } else { %>
                        <% for (let chapter of chapters) { %>
                            <li class="text-blue-600 hover:text-blue-800 hover:underline transition-colors">
                                <a href="/view-chapter/<%= chapter.id %>/createpage?currentUserId=<%= encodeURIComponent(currentUser.id) %>">
                                    <%= chapter.chapterName %>
                                </a>
                            </li>
                        <% } %>
                    <% } %>
                    </ol>
                </p>
                
                <% if(userofCourse.id === currentUser.id) { %>
                    <a href="/view-course/<%= course.id %>/buildChapter?currentUserId=<%= currentUser.id %>" class="bg-blue-600 text-white px-4 py-2 rounded font-xl hover:bg-blue-700 text-center ml-5">
                        Create a New Chapter
                    </a>
                <% } %>
            </div>
        </div>
    </div>
</body>
</html>
